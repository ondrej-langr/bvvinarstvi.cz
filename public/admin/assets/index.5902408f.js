import{r,E as m,m as p,j as s,G as f,J as v,A as b,K as h,Q as g,e as x,R as C,a as L,V as k,W as y,h as u,F as d,X as I,Y as N,Z as E}from"./index.d96b26d5.js";function w(){const[o,t]=r.exports.useState(!1),a=r.exports.useRef(null),e=r.exports.useCallback(()=>t(!0),[]),l=r.exports.useCallback(()=>t(!1),[]);return r.exports.useEffect(()=>{if(a.current)return a.current.addEventListener("mouseenter",e),a.current.addEventListener("mouseleave",l),()=>{var n,i;(n=a.current)==null||n.removeEventListener("mouseenter",e),(i=a.current)==null||i.removeEventListener("mouseleave",l)}},[]),{ref:a,hovered:o}}const F=({fileUrl:o})=>{const{hovered:t,ref:a}=w(),e=m(),{t:l}=p(),n=()=>e.copy(o);return s(f,{label:l("File URL"),type:"string",className:"w-full",autoComplete:"off",value:o.pathname,rightSection:s(v,{label:l(e.copied?"Link copied!":"Copy link to clipboard"),position:"left",radius:"xl",transition:"fade",transitionDuration:200,opened:t||e.copied,children:s(b,{ref:a,onClick:n,color:"blue",variant:"filled",size:"xl",className:"mr-2",children:s(h,{className:"h-7 w-7"})})}),disabled:!0},"fileUrl")},M=()=>{const{t:o}=p(),{fileId:t}=g(),a=x(),{data:e,isLoading:l}=C("files",t),n=r.exports.useMemo(()=>!!t&&L.files.getAssetUrl(t),[t]),i=r.exports.useMemo(()=>{var c;return(c=e==null?void 0:e.mimeType)==null?void 0:c.startsWith("image/")},[e]);return s(k,{size:"xl",opened:!0,onClose:()=>a(-1),padding:"xl",position:"right",closeButtonLabel:o("Close"),title:s(y,{order:4,children:l?o("Loading..."):u(d,{children:["File info of '",s("span",{className:"text-blue-500",children:e.filename}),"'"]})}),children:!l&&e&&!!n?u(d,{children:[s(I,{mb:"lg",mt:"sm",size:"sm"}),i?s(N.Wrapper,{label:o("File preview"),className:"py-3",labelProps:{className:"font-semibold"},children:s(E,{quality:80,width:450,imageId:t,className:"mb-3 w-full"})}):null,s(F,{fileUrl:n})]}):null})};export{M as default};
